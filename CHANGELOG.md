# Changelog

## 0.3.0:

### Breaking Changes

- `Dataset` is now a protocol. `SequenceDataset` replaces the old `Dataset`.
- The `ident` attribute on `Example` is now `id`.
- `calculate_bleu` function is removed and instead called from a `BleuGrader`
- `calculate_rouge` function is removed and instead called from a `RougeGrader`
- `ClassifyEvaluator` is now called `SingleLabelClassifyEvaluator`
- `Evaluator`s now take and return `Iterator`s instead of `Sequence`s to allow for streaming datasets

### New Features

- `Evaluators` now have better handling of dataset processing.
  - Errors are handled for individual examples, so that you don't lose the entire run because of one failed task.
  - The dataset run now produces an `EvaluationRunOverview` generated by an `EvaluationRepository`, that better captures the aggregated runs and traces.
  - There is a `FileEvaluationRepository` and an `InMemoryEvaluationRepository` available for storing your evaluation results
- Support passing `Metadata` field through `DocumentIndexClient` (already supported in the Document Index, new in client only)
- New `MultiLabelClassifyEvaluator` to evaluate classification use cases that support multi-label classification

### Fixes

- Fix issue in `EchoTask` regarding concurrent execution causing overrides in the `PromptTemplate`

## 0.2.0

### Breaking Changes

- `SingleLabelClassify` renamed to `PromptBasedClassify` with new `SingleLabelClassifyOutput`
- `EmbeddingBasedClassify` now outputs `MultiLabelClassifyOutput` to distinguish between the different types of scores produced

### New Features

- New `LimitedConcurrencyClient` to better control how many simultaneous API requests are made concurrently, regardless of where they are called within the Task hierarchy
- Basic new `SingleChunkSummarizeEvaluator` and `LongContextSummarizeEvaluator` that can calculate Rouge and Bleu scores when compared with a "golden summary"

### Fixes

- Fix issue with Pydantic 2.5 due to ambiguous ordering of types in `PydanticSerializable` type
- Fixed possible deadlock with nested calls to `Task.run_concurrently`

## 0.1.0

Initial release
